enable_worker_cronjobs: &enable_cron true
enable_purge_cronjobs: &enable_purge true
disable_worker_email: &disable_email true

swap_device: /dev/vdb
dlrn_server_type: primary
dlrn_enable_https: true
dlrn_manage_letsencrypt: false
dlrn_host: centos8-rpm-packaging-ci
dlrn_override_files:
  /home/centos8-master/data/repos/dlrn-deps.repo:
      source: centos8-master-rpm-packaging-dlrn-deps.repo
  /home/centos8-wallaby/data/repos/dlrn-deps.repo:
      source: centos8-wallaby-rpm-packaging-dlrn-deps.repo
  /home/centos8-victoria/data/repos/dlrn-deps.repo:
      source: centos8-victoria-rpm-packaging-dlrn-deps.repo
  /home/centos8-ussuri/data/repos/dlrn-deps.repo:
      source: centos8-ussuri-rpm-packaging-dlrn-deps.repo
  /home/centos8-train/data/repos/dlrn-deps.repo:
      source: centos8-train-rpm-packaging-dlrn-deps.repo

api_workers: []
web_domain: 'centos8-rpm-packaging-ci.rdoproject.org'
dlrn_workers:
  centos8-master:
    distro: 'centos8'
    target: 'centos8'
    distgit_branch: 'master'
    distro_branch: 'master'
    disable_email: *disable_email
    enable_cron: *enable_cron
    enable_purge: *enable_purge
    cron_hour: '*/4'
    cron_minute: '5'
    purge_hour: '2'
    purge_minute: '7'
    symlinks: ['/var/www/html/repos']
    release: 'ussuri'
    baseurl: 'https://centos8-rpm-packaging-ci.rdoproject.org/repos/'
    pkginfo_driver: 'dlrn.drivers.gitrepo.GitRepoDriver'
    build_driver: 'dlrn.drivers.mockdriver.MockBuildDriver'
    db_connection: 'sqlite:///commits.sqlite'
    mock_tmpfs_enable: true
    fallback_to_master: true
    gitrepo_repo: 'https://opendev.org/openstack/rpm-packaging'
    mock_config: 'centos8stream.cfg.j2'
    purge_custom_args: '--older-than 30 -y --exclude-dirs /home/centos8-master/data/repos/current,/home/centos8-master/data/repos/consistent'
  centos8-wallaby:
    distro: 'centos8'
    target: 'centos8-wallaby'
    distgit_branch: 'stable/wallaby'
    distro_branch: 'stable/wallaby'
    disable_email: *disable_email
    # FIXME(jpena): set to *enable_cron after the initial bootstrap
    enable_cron: false
    enable_purge: *enable_purge
    cron_hour: '*/4'
    cron_minute: '30'
    purge_hour: '1'
    purge_minute: '7'
    symlinks: ['/var/www/html/wallaby/repos']
    release: 'wallaby'
    baseurl: 'https://centos8-rpm-packaging-ci.rdoproject.org/wallaby/repos/'
    pkginfo_driver: 'dlrn.drivers.gitrepo.GitRepoDriver'
    build_driver: 'dlrn.drivers.mockdriver.MockBuildDriver'
    db_connection: 'sqlite:///commits.sqlite'
    mock_tmpfs_enable: true
    fallback_to_master: true
    gitrepo_repo: 'https://opendev.org/openstack/rpm-packaging'
    mock_config: 'centos8stream.cfg.j2'
    purge_custom_args: '--older-than 30 -y --exclude-dirs /home/centos8-wallaby/data/repos/current,/home/centos8-wallaby/data/repos/consistent'
  centos8-victoria:
    distro: 'centos8'
    target: 'centos8-victoria'
    distgit_branch: 'stable/victoria'
    distro_branch: 'stable/victoria'
    disable_email: *disable_email
    enable_cron: *enable_cron
    enable_purge: *enable_purge
    cron_hour: '*/4'
    cron_minute: '50'
    purge_hour: '1'
    purge_minute: '7'
    symlinks: ['/var/www/html/victoria/repos']
    release: 'victoria'
    baseurl: 'https://centos8-rpm-packaging-ci.rdoproject.org/victoria/repos/'
    pkginfo_driver: 'dlrn.drivers.gitrepo.GitRepoDriver'
    build_driver: 'dlrn.drivers.mockdriver.MockBuildDriver'
    db_connection: 'sqlite:///commits.sqlite'
    mock_tmpfs_enable: true
    fallback_to_master: true
    gitrepo_repo: 'https://opendev.org/openstack/rpm-packaging'
    mock_config: 'centos8stream.cfg.j2'
    purge_custom_args: '--older-than 30 -y --exclude-dirs /home/centos8-victoria/data/repos/current,/home/centos8-victoria/data/repos/consistent'
  centos8-ussuri:
    distro: 'centos8'
    target: 'centos8-ussuri'
    distgit_branch: 'stable/ussuri'
    distro_branch: 'stable/ussuri'
    disable_email: *disable_email
    enable_cron: *enable_cron
    enable_purge: *enable_purge
    cron_hour: '*/4'
    cron_minute: '20'
    purge_hour: '4'
    purge_minute: '7'
    symlinks: ['/var/www/html/ussuri/repos']
    release: 'ussuri'
    baseurl: 'https://centos8-rpm-packaging-ci.rdoproject.org/ussuri/repos/'
    pkginfo_driver: 'dlrn.drivers.gitrepo.GitRepoDriver'
    build_driver: 'dlrn.drivers.mockdriver.MockBuildDriver'
    db_connection: 'sqlite:///commits.sqlite'
    mock_tmpfs_enable: false
    fallback_to_master: true
    gitrepo_repo: 'https://opendev.org/openstack/rpm-packaging'
    mock_config: 'centos8stream.cfg.j2'
    purge_custom_args: '--older-than 30 -y --exclude-dirs /home/centos8-ussuri/data/repos/current,/home/centos8-ussuri/data/repos/consistent'
  centos8-train:
    distro: 'centos8'
    target: 'centos8-train'
    distgit_branch: 'stable/train'
    distro_branch: 'stable/train'
    disable_email: *disable_email
    enable_cron: *enable_cron
    enable_purge: *enable_purge
    cron_hour: '*/4'
    cron_minute: '35'
    purge_hour: '3'
    purge_minute: '7'
    symlinks: ['/var/www/html/train/repos']
    release: 'train'
    baseurl: 'https://centos8-rpm-packaging-ci.rdoproject.org/train/repos/'
    pkginfo_driver: 'dlrn.drivers.gitrepo.GitRepoDriver'
    build_driver: 'dlrn.drivers.mockdriver.MockBuildDriver'
    db_connection: 'sqlite:///commits.sqlite'
    mock_tmpfs_enable: false
    fallback_to_master: true
    gitrepo_repo: 'https://opendev.org/openstack/rpm-packaging'
    mock_config: 'centos8stream.cfg.j2'
    purge_custom_args: '--older-than 30 -y --exclude-dirs /home/centos8-train/data/repos/current,/home/centos8-train/data/repos/consistent'
