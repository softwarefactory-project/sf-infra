# This file is managed by dhall.
alerting:
  alertmanagers:
    - path_prefix: /alertmanager
      static_configs:
        - targets:
            - localhost:9093
global:
  evaluation_interval: "1m"
  scrape_interval: "1m"
  scrape_timeout: "10s"
rule_files:
  - rules-node.yaml
  - rules-node_proxy.yaml
  - rules-http.yaml
  - rules-backup.yaml
  - rules-dlrn.yaml
  - rules-afs.yaml
  - rules-systemd.yaml
  - rules-nodepool.yaml
  - rules-zuul.yaml
  - rules-mysqld.yaml
scrape_configs:
  - job_name: node
    static_configs:
      - targets:
          - mirror.regionone.vexxhost.rdoproject.org:9100
          - centos8-rpm-packaging-ci.rdoproject.org:9100
          - rpm-packaging-ci.rdoproject.org:9100
          - registry.rdoproject.org:9100
          - trunk-centos8.rdoproject.org:9100
          - trunk-centos7.rdoproject.org:9100
          - managesf.review.rdoproject.org:9100
          - elk.rdoproject.org:9100
          - logserver.rdoproject.org:9100
          - images.rdoproject.org:9100
          - www.rdoproject.org:9100
          - dlrn-db.rdoproject.org:9100
          - backup.rdoproject.org:9100
          - trunk.rdoproject.org:9100
          - mirror.regionone.rdo-cloud.rdoproject.org:9100
          - bridge.softwarefactory-project.io:9100
          - logreduce-mqtt-01.softwarefactory-project.io:9100
          - prometheus.monitoring.softwarefactory-project.io:9100
          - ara.softwarefactory-project.io:9100
          - redhat-oss-git-stats.softwarefactory-project.io:9100
          - elk.softwarefactory-project.io:9100
          - managesf.softwarefactory-project.io:9100
          - nodepool-builder.softwarefactory-project.io:9100
          - k1s02.softwarefactory-project.io:9100
          - zs.softwarefactory-project.io:9100
          - koji.softwarefactory-project.io:9100
          - integrations.softwarefactory-project.io:9100
          - fedora.softwarefactory-project.io:9100
          - ovirt.softwarefactory-project.io:9100
          - ovirt-staging.softwarefactory-project.io:9100
          - ansible.softwarefactory-project.io:9100
          - ze01.softwarefactory-project.io:9100
          - ze02.softwarefactory-project.io:9100
          - ze03.softwarefactory-project.io:9100
          - ze04.softwarefactory-project.io:9100
          - ze05.softwarefactory-project.io:9100
          - ze06.softwarefactory-project.io:9100
          - ze07.softwarefactory-project.io:9100
          - zm01.softwarefactory-project.io:9100
          - zm02.softwarefactory-project.io:9100
          - zm03.softwarefactory-project.io:9100
          - zm04.softwarefactory-project.io:9100
          - zm05.softwarefactory-project.io:9100
          - zm06.softwarefactory-project.io:9100
          - zm07.softwarefactory-project.io:9100
          - zm08.softwarefactory-project.io:9100
  - job_name: blackbox
    metrics_path: /probe
    params:
      module:
        - http_2xx
    relabel_configs:
      - source_labels:
          - "__address__"
        target_label: "__param_target"
      - source_labels:
          - "__param_target"
        target_label: instance
      - replacement: "127.0.0.1:9115"
        target_label: "__address__"
    scrape_interval: "5m"
    static_configs:
      - targets:
          - https://review.rdoproject.org/zuul/api/info
          - https://review.rdoproject.org/analytics/app/kibana
          - https://review.rdoproject.org
          - "https://review.rdoproject.org/elasticsearch/_cluster/health?wait_for_status=green&timeout=50s"
          - https://softwarefactory-project.io
          - https://softwarefactory-project.io/analytics/api/licensing/info
          - https://softwarefactory-project.io/zuul/api/info
          - https://softwarefactory-project.io/elasticsearch/
          - https://ovirt.softwarefactory-project.io/zuul/api/info
          - https://ansible.softwarefactory-project.io/zuul/api/info
          - https://fedora.softwarefactory-project.io/zuul/api/info
          - https://www.softwarefactory-project.io
          - https://images.rdoproject.org
          - https://lists.rdoproject.org
          - https://logserver.rdoproject.org
          - http://mirror.regionone.rdo-cloud.rdoproject.org
          - http://mirror.regionone.vexxhost.rdoproject.org
          - https://trunk.rdoproject.org
          - https://trunk.registry.rdoproject.org
          - "https://softwarefactory-project.io/elasticsearch/_cluster/health?wait_for_status=green&timeout=50s"
          - "https://rdo.vexxhost.ca/auth/login/?next=/"
  - job_name: blackbox-auth
    metrics_path: /probe
    params:
      module:
        - http_4xx
    relabel_configs:
      - source_labels:
          - "__address__"
        target_label: "__param_target"
      - source_labels:
          - "__param_target"
        target_label: instance
      - replacement: "127.0.0.1:9115"
        target_label: "__address__"
    scrape_interval: "5m"
    static_configs:
      - targets:
          - https://ara.softwarefactory-project.io
  - job_name: node_proxy
    proxy_url: http://127.0.0.1:8080
    static_configs:
      - targets:
          - rdo-ci-cloudslave01.ci.centos.org:9100
          - rdo-ci-cloudslave02.ci.centos.org:9100
          - rdo-ci-cloudslave03.ci.centos.org:9100
          - rdo-ci-cloudslave04.ci.centos.org:9100
          - rdo-ci-cloudslave05.ci.centos.org:9100
  - job_name: journal
    static_configs:
      - targets:
          - logreduce-mqtt-01.softwarefactory-project.io:9101
  - job_name: statsd_exporter
    scrape_interval: "5m"
    static_configs:
      - targets:
          - localhost:9102
  - job_name: mysqld
    static_configs:
      - targets:
          - dlrn-db.rdoproject.org:9104
          - backup.rdoproject.org:9104
