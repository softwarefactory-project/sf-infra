# This file is managed by dhall.
groups:
  - name: mysqld.rules
    rules:
      - alert: MariaDBDown
        annotations:
          summary: "MariaDB is down on {{ $labels.instance }}"
        expr: "mysql_up{job='mysqld'} == 0"
        for: "10m"
      - alert: MariaDBReplicationFAiled
        annotations:
          summary: "MariaDB replication is failing on {{ $labels.instance }}"
        expr: "(mysql_slave_status_slave_io_running{job='mysqld'} == 0) or (mysql_slave_status_slave_sql_running{job='mysqld'} == 0)"
        for: "10m"
