---
apiVersion: sf.softwarefactory-project.io/v1
kind: SoftwareFactory
metadata:
  name: infra-team
  namespace: sf
spec:
  config-location:
    base-url: https://softwarefactory-project.io/r
    name: microzuul-config
    zuul-connection-name: sfio-gerrit
  fqdn: microshift.softwarefactory-project.io
  letsEncrypt:
    server: prod
  logserver:
    loopDelay: 3600
    retentionDays: 90
    storage:
      size: 12Gi
  nodepool:
    builder:
      storage:
        size: 35Gi
  zookeeper:
    storage:
      size: 3Gi
  zuul:
    oidcAuthenticators:
      - name: keycloak_sfio
        clientID: zuul-microshift
        issuerID: https://softwarefactory-project.io/auth/realms/SF
        realm: SF
    defaultAuthenticator: keycloak_sfio
    gerritconns:
      - name: sfio-gerrit
        username: microzuul
        hostname: softwarefactory-project.io
        puburl: "https://softwarefactory-project.io/r"
